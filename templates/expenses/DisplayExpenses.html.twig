{% extends 'base.html.twig' %}
{% block title %}
	All Transactions
{% endblock %}
{% block body %}
	<main
		class="main-content position-relative border-radius-lg ">
		<!-- Navbar -->
		<nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur" data-scroll="false">
			<div class="container-fluid py-1 px-3">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
						<li class="breadcrumb-item text-sm">
							<a class="opacity-5 text-white" href="javascript:;">Pages</a>
						</li>
						<li class="breadcrumb-item text-sm text-white active" aria-current="page">Tables</li>
					</ol>
					<h6 class="font-weight-bolder text-white mb-0">Tables</h6>
				</nav>
				<div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
					<div class="ms-md-auto pe-md-3 d-flex align-items-center">
						<div class="input-group">
							<span class="input-group-text text-body">
								<i class="fas fa-search" aria-hidden="true"></i>
							</span>
							<input type="text" class="form-control" placeholder="Type here...">
						</div>
					</div>
				</div>
			</div>
		</nav>

		<div
			class="container-fluid py-4">
			<!-- Navbar continuation -->
			<div class="row">
				<div class="col-12">
					<div class="card mb-4">
						<div class="card-header pb-0">
							<h6>Supplier Table</h6>
							<!-- Navbar buttons -->
							<nav class="navbar bg-body-tertiary">
								<div class="container-fluid">
									<a href="/dashboard/expenses" class="btn btn-info">Add New</a>
									<a href="/dashboard/Supplier" class="btn btn-info">
										<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewbox="0 0 16 16">
											<path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
											<path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
										</svg>
									</a>
									<form class="d-flex" role="search">
										{% include "/expenses/searchData.html.twig" with { form:form } only %}
									</form>
								</div>
							</nav>
							<!-- End Navbar buttons -->
							<!-- Container for additional content -->
							<div class="container-fluid"></div>
						</div>
						<div class="card-body px-0 pt-0 pb-2">
							<div class="table-responsive p-0">
								<table class="table align-items-center mb-0">
									<thead>
										<tr>
											<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Id</th>
											<th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Type</th>
											<th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">QuantityE</th>
											<th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">coast</th>
											<th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Description</th>
											<th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Total_amount</th>
											<th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">--</th>
										</tr>
									</thead>
									<tbody>
										{% for p in expenses %}
											<tr>
												<td class="align-middle text-center text-sm">
													<span class="badge badge-sm bg-gradient-success">{{ p.Id }}</span>
												</td>
												<td class="align-middle text-center text-sm">
													<span class="text-secondary text-xs font-weight-bold">{{ p.Type }}</span>
												</td>
												<td class="align-middle text-center text-sm">
													<span class="text-secondary text-xs font-weight-bold">{{ p.QuantityE }}</span>
												</td>
												<td class="align-middle text-center">
													<span class="text-secondary text-xs font-weight-bold">{{ p.coast }}</span>
												</td>
												<td class="align-middle">
													<span class="text-secondary text-xs font-weight-bold">{{ p.Description }}</span>
												</td>
												<td class="align-middle">
													<span class="text-secondary text-xs font-weight-bold">{{ p.Totalamount }}</span>
												</td>
												<td class="align-middle">
													<div class="ms-auto text-end">
														<a class="btn btn-link text-danger text-gradient px-3 mb-0" href="{{ path ('app_deltexp', {'id':p.id }) }}">
															<i class="far fa-trash-alt me-2"></i>Delete
														</a>
														<a class="btn btn-link text-dark px-3 mb-0" href="{{ path ('app_editTransaction', {'id':p.id}) }}">
															<i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i>Edit
														</a>
														<a class="btn btn-link text-dark px-3 mb-0" href="{{ path ('app_archive_expenses', {'id':p.id}) }}">
															<i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i>Archive
														</a>
														<a class="btn btn-link text-dark px-3 mb-0" href="{{ path('PDF_genrate', {'id': p.id}) }}">
															<i class="fas fa-file-pdf text-dark me-2" aria-hidden="true"></i>PDF
														</a>
													</div>
												</td>
											</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
							<!--  Error message -->
							{% if app.flashes('error')|length > 0 %}
								<div class="container-fluid py-4">
									<div class="row justify-content-center">
										<div class="alert alert-danger alert-dismissible fade show" role="alert" style="padding: 0.5rem; font-size: 0.875rem; max-width: 400px;">
											<strong>Error:</strong>
											<p>You don't have any more money, so you cannot pursue the purchase.</p>
											<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" style="position: absolute; top: 0.5rem; right: 0.5rem;"></button>
										</div>
									</div>
								</div>
							{% endif %}
							<!-- End Error message -->
							<!-- Start Error message -->
							{% if app.flashes('success')|length > 0 %}
								<div class="container-fluid py-4">
									<div class="row justify-content-center">
										<div class="col-md-6">
											<div class="alert alert-success mt-3 text-center" role="alert" style="padding: 0.5rem; font-size: 0.875rem; max-width: 400px;">
												<strong>Success:</strong>
												<p>Added successfully.</p>
												<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
											</div>
										</div>
									</div>
								</div>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
{% endblock %}
